% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/registry.R
\name{sfr_log_model}
\alias{sfr_log_model}
\title{Log an R model to the Snowflake Model Registry}
\usage{
sfr_log_model(
  reg,
  model,
  model_name,
  version_name = NULL,
  predict_fn = "predict",
  predict_pkgs = character(0),
  predict_body = NULL,
  input_cols = NULL,
  output_cols = NULL,
  conda_deps = NULL,
  pip_requirements = NULL,
  target_platforms = "SNOWPARK_CONTAINER_SERVICES",
  comment = NULL,
  metrics = NULL,
  sample_input = NULL,
  ...
)
}
\arguments{
\item{reg}{An \code{sfr_model_registry} object from \code{\link[=sfr_model_registry]{sfr_model_registry()}}, or
an \code{sfr_connection} object from \code{\link[=sfr_connect]{sfr_connect()}} (uses session defaults).}

\item{model}{An R model object (anything that can be \code{saveRDS()}'d).}

\item{model_name}{Character. Name for the model in the registry.}

\item{version_name}{Character. Optional version name (auto-generated if
\code{NULL}).}

\item{predict_fn}{Character. R function name for inference. Default:
\code{"predict"}.}

\item{predict_pkgs}{Character vector. R packages needed at inference time.}

\item{predict_body}{Character. Optional custom R code for prediction
(advanced). Use template variables \code{{{MODEL}}}, \code{{{INPUT}}}, \code{{{UID}}},
\code{{{N}}}.}

\item{input_cols}{Named list mapping input column names to types.
Valid types: \code{"integer"}, \code{"double"}, \code{"string"}, \code{"boolean"}.}

\item{output_cols}{Named list mapping output column names to types.}

\item{conda_deps}{Character vector. Conda packages for the model
environment. Defaults include \code{r-base} and \code{rpy2}.}

\item{pip_requirements}{Character vector. Additional pip packages.}

\item{target_platforms}{Character. One of \code{"SNOWPARK_CONTAINER_SERVICES"},
\code{"WAREHOUSE"}, or both. Default: \code{"SNOWPARK_CONTAINER_SERVICES"}.}

\item{comment}{Character. Description of the model.}

\item{metrics}{Named list. Metrics to attach to the model version.}

\item{sample_input}{A data.frame. Optional sample input for signature
validation.}

\item{...}{Additional arguments passed to the underlying Python
\code{Registry.log_model()}.}
}
\value{
An \code{sfr_model_version} object.
}
\description{
Saves the R model to an \code{.rds} file, auto-generates a Python \code{CustomModel}
wrapper (using rpy2), and registers it in the Snowflake Model Registry.
}
\examples{
\dontrun{
conn <- sfr_connect()
model <- lm(mpg ~ wt, data = mtcars)
mv <- sfr_log_model(conn, model, model_name = "MTCARS_MPG",
                    input_cols = list(wt = "double"),
                    output_cols = list(prediction = "double"))
}

}
\seealso{
\code{\link[=sfr_predict_local]{sfr_predict_local()}}, \code{\link[=sfr_predict]{sfr_predict()}}, \code{\link[=sfr_show_models]{sfr_show_models()}}
}
