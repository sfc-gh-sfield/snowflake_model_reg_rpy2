# Scala / JVM Package Configuration for Snowflake Workspace Notebooks
# ====================================================================
#
# This file defines the JDK, Scala, and Snowpark versions to install.
# Edit this file to customize your Scala environment.
#
# ====================================================================
# JDK VERSION
# ====================================================================
# Snowpark Scala requires Java 11 or 17.
# OpenJDK is installed via micromamba from conda-forge.

java_version: "17"

# ====================================================================
# SCALA VERSION
# ====================================================================
# Snowpark Scala supports:
#   - Scala 2.12 (primary, fully supported)
#   - Scala 2.13 (public preview as of Snowpark 1.17.0+)
#
# The version here must match the Snowpark artifact suffix.

scala_version: "2.12"

# ====================================================================
# SNOWPARK VERSION
# ====================================================================
# Snowpark JARs are resolved via coursier (transitive deps included).
# Since 1.17.0 the Maven artifact includes the Scala suffix:
#   com.snowflake:snowpark_2.12:<version>
#
# Check latest: https://repo1.maven.org/maven2/com/snowflake/snowpark_2.12/

snowpark_version: "1.18.0"

# ====================================================================
# AMMONITE VERSION
# ====================================================================
# Ammonite is the REPL engine (same as used by the Almond Jupyter
# kernel that Snowflake's docs recommend). Resolved via coursier.
#
# The version must be compatible with the Scala version above.
# Ammonite is published per Scala patch version (e.g. ammonite_2.12.20).
# Check available: https://repo1.maven.org/maven2/com/lihaoyi/

ammonite_version: "3.0.8"

# ====================================================================
# JVM OPTIONS
# ====================================================================
# Passed to jpype.startJVM(). Controls heap size, GC, etc.
# Keep heap modest since we share the process with Python.

jvm_options:
  - "-Xmx1g"
  - "-Xms256m"
  - "--add-opens=java.base/java.nio=ALL-UNNAMED"

# ====================================================================
# ADDITIONAL MAVEN DEPENDENCIES
# ====================================================================
# Extra JARs to resolve via coursier and add to the classpath.
# These are fetched at install time (not runtime).
# Format: "<groupId>:<artifactId>:<version>"

extra_dependencies:
  - "org.slf4j:slf4j-nop:1.7.36"
  # - "org.apache.spark:spark-sql_2.12:3.5.0"
  # - "com.google.guava:guava:33.0.0-jre"
